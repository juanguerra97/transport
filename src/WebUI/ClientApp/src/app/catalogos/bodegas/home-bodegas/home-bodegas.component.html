<div class="container-fluid">
  <div class="d-flex gap-2 align-items-center mb-1">
    <p class="m-0 p-0">BODEGAS</p>
    <div class="d-flex flex-fill align-items-center justify-content-end">
      <button [routerLink]="['nuevo']" pButton type="button" label="Nueva" icon="pi pi-plus" class="p-button-raised p-button-sm"></button>
    </div>
  </div>

  <p-table [value]="bodegas" [loading]="loadingBodegas" [paginator]="true" [alwaysShowPaginator]="true" [rows]="10" [rowsPerPageOptions]="[10,25,50]">
    <ng-template pTemplate="header">
      <tr class="tp-font-small">
        <th class="text-center">Id</th>
        <th>Descripci&oacute;n</th>
        <th>Detalle</th>
        <th>Direcci&oacute;n</th>
        <th class="text-center">Acci&oacute;n</th>
      </tr>
    </ng-template>
    <ng-template pTemplate="body" let-bodega>
      <tr>
        <td class="text-center">{{bodega.id}}</td>
        <td>{{bodega.descripcion}}</td>
        <td>{{bodega.detalle}}</td>
        <td>
          <div class="d-flex flex-column gap-0">
            <p class="m-0 p-0">{{bodega.ubicacion?.direccion}}</p>
            <p class="m-0 p-0">{{bodega.ubicacion?.municipio?.descripcion}},&nbsp;{{bodega?.ubicacion?.municipio?.departamento?.descripcion}}</p>
          </div>
        </td>
        <td>
          <div class="d-flex gap-2 align-items-center justify-content-center">
            <button [routerLink]="['editar', bodega.id]" pButton pRipple type="button" icon="pi pi-pencil" class="p-button-rounded p-button-warning p-button-text"></button>
            <button (click)="confirmarEliminar(bodega)" pButton pRipple type="button" icon="pi pi-times" class="p-button-rounded p-button-danger p-button-text"></button>
          </div>
        </td>
      </tr>
    </ng-template>
    <ng-template pTemplate="emptymessage">
      <tr>
        <td colspan="6" class="tp-font-small">
          No se encontraron bodegas.
        </td>
      </tr>
    </ng-template>
  </p-table>
  <p-confirmDialog header="Confirmaci&oacute;n" icon="pi pi-exclamation-triangle"></p-confirmDialog>

</div>
